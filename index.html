<!DOCTYPE html>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<html>

<head>
    <title>Babel</title>
    <link href="http://fonts.googleapis.com/css?family=Lobster" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Cabin" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./css/styles.css">
    <link rel="stylesheet" type="text/css" href="https://rawgit.com/elrumordelaluz/csshake/master/csshake.min.css">
</head>

<!-- 
░░░░░░░░░▄░░░░░░░░░░░░░░▄ 
░░░░░░░░▌▒█░░░░░░░░░░░▄▀▒▌
░░░░░░░░▌▒▒█░░░░░░░░▄▀▒▒▒▐
░░░░░░░▐▄▀▒▒▀▀▀▀▄▄▄▀▒▒▒▒▒▐
░░░░░▄▄▀▒░▒▒▒▒▒▒▒▒▒█▒▒▄█▒▐
░░░▄▀▒▒▒░░░▒▒▒░░░▒▒▒▀██▀▒▌
░░▐▒▒▒▄▄▒▒▒▒░░░▒▒▒▒▒▒▒▀▄▒▒▌
░░▌░░▌█▀▒▒▒▒▒▄▀█▄▒▒▒▒▒▒▒█▒▐
░▐░░░▒▒▒▒▒▒▒▒▌██▀▒▒░░░▒▒▒▀▄▌
░▌░▒▄██▄▒▒▒▒▒▒▒▒▒░░░░░░▒▒▒▒▌
▌▒▀▐▄█▄█▌▄░▀▒▒░░░░░░░░░░▒▒▒▐
▐▒▒▐▀▐▀▒░▄▄▒▄▒▒▒▒▒▒░▒░▒░▒▒▒▒▌
▐▒▒▒▀▀▄▄▒▒▒▄▒▒▒▒▒▒▒▒░▒░▒░▒▒▐ 
░▌▒▒▒▒▒▒▀▀▀▒▒▒▒▒▒░▒░▒░▒░▒▒▒▌
░▐▒▒▒▒▒▒▒▒▒▒▒▒▒▒░▒░▒░▒▒▄▒▒▐
░░▀▄▒▒▒▒▒▒▒▒▒▒▒░▒░▒░▒▄▒▒▒▒▌
░░░░▀▄▒▒▒▒▒▒▒▒▒▒▄▄▄▀▒▒▒▒▄▀
░░░░░░▀▄▄▄▄▄▄▀▀▀▒▒▒▒▒▄▄▀
░░░░░░░░░▒▒▒▒▒▒▒▒▒▒▀▀
-->

<body>
    <header>
        <div id="links">
            <a href="#" class="selected">Home</a>
            <a href="./docs/annotated-source">Annotated Source</a>
            <a href="https://github.com/lw7360/babel">GitHub</a>
        </div>
        <br>
        <div id="title">
            <h1>Babel</h1>
            <h2>Encrypted, Self-Destructing Messages</h2>
        </div>
    </header>

    <div id="dogechatwrap">
        <div id="login">
            <div id="question">Pick a Username:</div>
            <div contenteditable="true" id="username"></div>
        </div>


        <div id="dogechat">
            <div id="dogeusers">
                <h4>User List</h4>
                <div id="filter" contenteditable="true"></div>
                <div id="userList"></div>
            </div>

            <div id="dogemessages">
                <div id="messages"></div>
                <div id="input">
                    <div contenteditable="true" id="myMessage"></div>
                    <div contenteditable="true" id="TTL">5</div>
                </div>
            </div>
        </div>
    </div>

    <div class="container slate-blue">
        <div class="tutorial">
            <h3>What is Babel?</h3>
            Babel is an open source chat widget and API built with the PubNub Global Realtime Network. Babel let's you send Self-Destructing Messages, and also helps facilitate public key exchange. Check out the source on <a href="https://github.com/lw7360/babel">Github</a>.
        </div>

        <div class="tutorial">
            <h3>How do I use Babel?</h3>
            To get started with Babel, we have to import the necessary libraries.

            <pre class="code">
&lt;script src="https://cdn.pubnub.com/pubnub.min.js"&gt;&lt;/script&gt;

&lt;!-- Download both from https://github.com/lw7360/babel --&gt;
&lt;script src="./cryptico.js"&gt;&lt;/script&gt; 
&lt;script src="./babel.js"&gt;&lt;/script&gt;

&lt;script&gt;
var babel = new Babel('doge'); // Initialize Babel with a username
&lt;/script&gt;</pre>
        </div>

        <div class="tutorial">
            <h3>Public Key Exchange</h3>
            Babel uses 1024-bit RSA encryption to encrypt the messages it sends. However, if you would like, you could use these keys for other purposes.
            <br>
            <code>listUsers();</code>
            <blockquote>
                <p>
                    Returns an object with all users and their public keys.
                    <br>e.g. {"doge": "sHva10Fff4O7DqDiQtzcb7P6zhj8FuJssMgtD+U...ulRSg9xB1BJg85qyHtM+CzSPKycysBG0="}
                </p>
            </blockquote>
            <code>myKey();</code>
            <blockquote>
                Returns your <a href="https://github.com/wwwtyro/cryptico">Cryptico</a> RSAkey.
            </blockquote>

            </pre>
        </div>

        <div class="tutorial">
            <h3>Encrypted, Self-Destructing Messages</h3>
            Babel also has the ability to send encrypted self-destructing messages.
            <br>
            <code>sendMessage(recipient, message, ttl);</code>
            <blockquote>
                Sends <code>message</code> to <code>recipient</code>. The <code>recipient</code> will be unable to read the message after <code>ttl</code> seconds.
            </blockquote>
            <code>returnMessages();</code>
            <blockquote>
                Returns all messages in the following form.
                <br>{
                <br>"shibe": [ // The user you are talking with.
                <br>{
                <br>"msgID": "409bbc34-ce15-4f82-a37d-f995682b1943", // A unique string that identifies the message.
                <br>plaintext: "Hi, shibe! It's Doge", // The text of the actual message.
                <br>TTL: 5, // The number of seconds
                <br>sender: "doge", // The user who sent the message
                <br>recipient: "shibe" // The user who received the message
                <br>} ] }
            </blockquote>
            <code>onRecieveMessage(callback);</code>
            <blockquote>
                <code>callback</code> will be called whenever a message intended for you is received. An argument of the same form as a single message returned from <code>returnMessages</code> will be passed to <code>callback</code>.
            </blockquote>
            <code>onPresence(callback);</code>
            <blockquote>
                <code>callback</code> will be called when a user joins or leaves babel.
                <br>To see who left you can call <code>listUsers</code>.
            </blockquote>
        </div>

        <div class="tutorial">
            <h3>More Resources.</h3>
            To learn more about DogeChat, check out the <a href="https://github.com/lw7360/babel/blob/gh-pages/README.md">README</a>. Or, you can look at the source directly on <a href="https://github.com/lw7360/babel">Github</a>.
            <br>For more stuff like this, take a look at the <a href="http://www.pubnub.com/blog/"> PubNub Blog</a>.
        </div>
    </div>


    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-7">
                    <h3 align="center" class="footer-title">
            More with <a href="http://pubnub.com"> PubNub Real-Time Network </a>
        </h3>
                    <p align="center">
                        Do you like this solution kit? Want to get more stuff like this?
                        <br>Subscribe to
                        <a target="pntwitter" href="http://twitter.com/PubNub">@PubNub</a>
                        news and updates!
                        <br>
                        <BR>
                    </p>
                </div>

                <div class="col-lg-4">
                    <div class="footer-banner">
                        <h3 class="footer-title" align="center">
                <a href="http://pubnub.com"><div class="pubnub-logo-footer"></div></A>
                Real-Time Network
            </h3>

                        <div class=row-margin-small>
                            <a class="btn btn-info btn-lg btn-block" alt="PubNub Real-Time Network" target=freetrial href="http://www.pubnub.com/free-trial">
            Try PubNub Today!</a>
                        </div>

                    </div>
                </div>
            </div>
            <h4 align="center"> <a target=signup href="http://www.pubnub.com/free-trial"> PubNub Real-Time Network Sign-up</a></h4>
        </div>
    </div>

    <script src="http://cdn.pubnub.com/pubnub.min.js"></script>
    <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script src="./js/libs/cryptico.js"></script>
    <script src="./js/babel.js"></script>
    <script src="./js/babel-ui.js"></script>
    <script src="./js/explode.js"></script>
    <script>
    piAId='29622';
    piCId='23596';
    (function(){
    function async_load(){
    var s=document.createElement('script');s.type='text/javascript';
    s.src=('https:'==document.location.protocol?'https://pi':'http://cdn')
    +'.pardot.com/pd.js';
    var c=document.getElementsByTagName('script')[0];
    c.parentNode.insertBefore(s,c);}
    if(window.attachEvent){window.attachEvent('onload',async_load);}
    else{window.addEventListener('load',async_load,false);}})();
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create','UA-16927549-1');
    ga('send','pageview');
    </script>
</body>

</html>